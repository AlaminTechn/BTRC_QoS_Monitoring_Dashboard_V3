================================================================================
BTRC Dashboard - React + ECharts with Metabase Backend
EXPLORATION GUIDE (Step-by-Step Analysis - NO CODE CHANGES YET)
================================================================================

ğŸ“‹ TABLE OF CONTENTS
================================================================================
1. Concept Overview
2. Architecture Comparison
3. Technical Feasibility
4. Step-by-Step Implementation Plan
5. Data Flow Diagram
6. API Endpoints Analysis
7. React Component Structure
8. ECharts Integration Examples
9. Pros & Cons Analysis
10. Effort Estimation
11. Technology Stack
12. Security Considerations
13. Performance Comparison
14. Testing Strategy
15. Deployment Options
16. Next Steps & Decision Points

================================================================================
1. CONCEPT OVERVIEW
================================================================================

CURRENT SETUP (Embedded Metabase):
----------------------------------
User â†’ React/HTML Wrapper â†’ Metabase iframes â†’ Metabase Renders Charts

PROPOSED SETUP (React + ECharts):
---------------------------------
User â†’ React Components â†’ Metabase API (data) â†’ ECharts/React Charts

KEY IDEA:
- Use Metabase ONLY as a data source (API backend)
- Use React for UI framework
- Use ECharts/Recharts/Chart.js for chart rendering
- Full control over appearance and interactions

================================================================================
2. ARCHITECTURE COMPARISON
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Option A: Current (iframe embedding)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  Browser                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Your HTML/React Wrapper                                      â”‚      â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚      â”‚
â”‚  â”‚  â”‚  <iframe src="metabase/dashboard/5">                   â”‚  â”‚      â”‚
â”‚  â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚      â”‚
â”‚  â”‚  â”‚    â”‚  Metabase renders everything                   â”‚  â”‚  â”‚      â”‚
â”‚  â”‚  â”‚    â”‚  - Tabs, filters, charts, styling             â”‚  â”‚  â”‚      â”‚
â”‚  â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚      â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                          â”‚
â”‚  Pros: Easy, no custom code                                             â”‚
â”‚  Cons: Limited control, iframe issues, slow, Metabase styling only      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Option B: Proposed (React + ECharts)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  Browser                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  React Application                                            â”‚      â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚      â”‚
â”‚  â”‚  â”‚ <ChartComponentâ”‚  â”‚ <TableComponentâ”‚  â”‚ <MapComponent  â”‚ â”‚      â”‚
â”‚  â”‚  â”‚   data={api}   â”‚  â”‚   data={api}   â”‚  â”‚  data={api}    â”‚ â”‚      â”‚
â”‚  â”‚  â”‚   ECharts      â”‚  â”‚   AntD Table   â”‚  â”‚  Leaflet/EChartsâ”‚ â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                          â†“ Fetch Data                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Metabase API                                                 â”‚      â”‚
â”‚  â”‚  - /api/card/:id/query (get question data)                   â”‚      â”‚
â”‚  â”‚  - /api/dashboard/:id (get dashboard structure)              â”‚      â”‚
â”‚  â”‚  - /api/dataset (run custom query)                           â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                          â”‚
â”‚  Pros: Full control, modern UI, fast, custom interactions               â”‚
â”‚  Cons: More development work, need to maintain chart code                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

================================================================================
3. TECHNICAL FEASIBILITY
================================================================================

âœ… YES, THIS IS FULLY POSSIBLE!

Metabase provides REST APIs to:
1. âœ… Authenticate and get session token
2. âœ… Fetch question/card data (as JSON)
3. âœ… Run custom queries
4. âœ… Get dashboard structure
5. âœ… Apply filters
6. âœ… Get database metadata

React ecosystem provides:
1. âœ… ECharts (apache-echarts) - Rich, interactive charts
2. âœ… Recharts - React-native charts
3. âœ… Chart.js with react-chartjs-2
4. âœ… Ant Design Charts
5. âœ… Leaflet / Mapbox for maps

VERDICT: 100% feasible, many companies use this approach!

Examples of companies using similar architecture:
- Airbnb (custom UI + data APIs)
- Netflix (custom dashboards + data backend)
- Uber (custom viz + data platform)

================================================================================
4. STEP-BY-STEP IMPLEMENTATION PLAN
================================================================================

PHASE 1: EXPLORATION (No code changes)
---------------------------------------
Step 1.1: Analyze current Metabase setup
  - List all dashboards (Executive, Regulatory)
  - List all questions/cards (76-99)
  - Document current filters (Division, District, ISP)

Step 1.2: Test Metabase API manually
  - Get session token
  - Fetch card data (test with Card 76)
  - Try running custom query
  - Test filter application

Step 1.3: Map chart types
  Executive Dashboard:
    E1.1-E1.3: Scalar (number) â†’ ECharts Gauge or Number Display
    E1.5: Line Chart â†’ ECharts Line
    E1.6: Bar Chart â†’ ECharts Bar
    E2.1: Map â†’ ECharts Map or Leaflet
    E3.1-E3.5: Various â†’ ECharts equivalents

  Regulatory Dashboard:
    R1.1-R1.3: Scalar â†’ ECharts Gauge
    R1.4: Table â†’ Ant Design Table
    R1.5-R1.6: Tables â†’ Ant Design Table
    R2.x: Tables + Maps â†’ Ant Design + ECharts Map
    R3.x: Various charts â†’ ECharts

Step 1.4: Design React component structure
  - Layout components (Header, Sidebar, Content)
  - Chart wrapper components
  - Data fetching hooks
  - Filter components

Step 1.5: Evaluate charting libraries
  - ECharts: Feature comparison
  - Recharts: Simplicity vs features
  - Chart.js: Performance
  - Ant Design Charts: Integration

PHASE 2: PROOF OF CONCEPT
--------------------------
Step 2.1: Create minimal React app
  - npx create-react-app btrc-dashboard-react
  - Install dependencies (echarts, axios, react-router)

Step 2.2: Build one simple chart (E1.1 - National Avg Download)
  - Fetch data from Metabase API
  - Render with ECharts
  - Compare with iframe version

Step 2.3: Validate approach
  - Does it work?
  - Performance comparison
  - Code complexity assessment

PHASE 3: FULL IMPLEMENTATION (If POC succeeds)
-----------------------------------------------
Step 3.1: Setup React project structure
Step 3.2: Implement all chart types
Step 3.3: Build filter system
Step 3.4: Add navigation
Step 3.5: Implement authentication
Step 3.6: Testing
Step 3.7: Deployment

================================================================================
5. DATA FLOW DIAGRAM
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                          â”‚
â”‚  REACT FRONTEND (Port 3001)                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  1. User visits http://localhost:3001                           â”‚    â”‚
â”‚  â”‚  2. React app loads                                             â”‚    â”‚
â”‚  â”‚  3. App calls: POST /api/session (login to Metabase)           â”‚    â”‚
â”‚  â”‚  4. Get session token                                           â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  5. For each chart:                                             â”‚    â”‚
â”‚  â”‚     GET /api/card/64/query?parameters=[filters]                 â”‚    â”‚
â”‚  â”‚     â†’ Returns JSON data                                         â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  6. Parse JSON data                                             â”‚    â”‚
â”‚  â”‚  7. Format for ECharts                                          â”‚    â”‚
â”‚  â”‚  8. Render chart with ECharts                                   â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â†“                                           â”‚
â”‚                       HTTP Requests                                      â”‚
â”‚                              â†“                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  METABASE API (Port 3000)                                       â”‚    â”‚
â”‚  â”‚  - Query execution                                              â”‚    â”‚
â”‚  â”‚  - Data formatting                                              â”‚    â”‚
â”‚  â”‚  - Filter application                                           â”‚    â”‚
â”‚  â”‚  - Returns JSON                                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â†“                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  TIMESCALEDB (Port 5433)                                        â”‚    â”‚
â”‚  â”‚  - Actual data storage                                          â”‚    â”‚
â”‚  â”‚  - SQL query execution                                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Example API Call Flow:
----------------------
1. Login:
   POST http://localhost:3000/api/session
   Body: {"username": "user@btrc.gov.bd", "password": "pass"}
   Response: {"id": "session-token-here"}

2. Get Chart Data:
   GET http://localhost:3000/api/card/64/query
   Headers: {"X-Metabase-Session": "session-token-here"}
   Response: {
     "data": {
       "rows": [[52.5], [45.2], ...],
       "cols": [{"name": "Avg Download", "type": "number"}]
     }
   }

3. Render in React:
   const option = {
     series: [{
       type: 'gauge',
       data: [{value: 52.5, name: 'Download Speed'}]
     }]
   };
   <ReactECharts option={option} />

================================================================================
6. API ENDPOINTS ANALYSIS
================================================================================

METABASE REST API ENDPOINTS WE NEED:
------------------------------------

1. AUTHENTICATION
   POST /api/session
   Body: {"username": "email", "password": "pass"}
   Returns: {"id": "token"}

2. GET CARD/QUESTION DATA
   GET /api/card/:card-id/query
   Headers: {"X-Metabase-Session": "token"}
   Returns: {"data": {"rows": [...], "cols": [...]}}

   Example: GET /api/card/64/query
   Returns data for "E1.1 National Avg Download Speed"

3. GET CARD METADATA
   GET /api/card/:card-id
   Returns: Question definition, SQL, visualization settings

4. RUN CUSTOM QUERY
   POST /api/dataset
   Body: {
     "database": 2,
     "type": "native",
     "native": {"query": "SELECT ..."}
   }
   Returns: Query results

5. GET DASHBOARD STRUCTURE
   GET /api/dashboard/:dashboard-id
   Returns: All cards, tabs, filters for a dashboard

6. APPLY FILTERS
   GET /api/card/:id/query?parameters=[{"type":"category","target":["variable",["template-tag","division"]],"value":"Dhaka"}]

TESTING THESE APIS (Manual):
----------------------------
# 1. Login
curl -X POST http://localhost:3000/api/session \
  -H "Content-Type: application/json" \
  -d '{"username":"alamin.technometrics22@gmail.com","password":"Test@123"}'

# Save the token from response

# 2. Get card data
curl http://localhost:3000/api/card/64/query \
  -H "X-Metabase-Session: YOUR_TOKEN_HERE"

# 3. Get dashboard
curl http://localhost:3000/api/dashboard/5 \
  -H "X-Metabase-Session: YOUR_TOKEN_HERE"

================================================================================
7. REACT COMPONENT STRUCTURE
================================================================================

Proposed React Project Structure:
---------------------------------
btrc-dashboard-react/
â”œâ”€â”€ public/
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ metabase.js          â† Metabase API client
â”‚   â”‚   â””â”€â”€ auth.js              â† Authentication
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ charts/
â”‚   â”‚   â”‚   â”œâ”€â”€ GaugeChart.jsx   â† ECharts Gauge
â”‚   â”‚   â”‚   â”œâ”€â”€ LineChart.jsx    â† ECharts Line
â”‚   â”‚   â”‚   â”œâ”€â”€ BarChart.jsx     â† ECharts Bar
â”‚   â”‚   â”‚   â”œâ”€â”€ MapChart.jsx     â† ECharts Map
â”‚   â”‚   â”‚   â””â”€â”€ DataTable.jsx    â† Ant Design Table
â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.jsx
â”‚   â”‚   â”‚   â””â”€â”€ Footer.jsx
â”‚   â”‚   â”œâ”€â”€ filters/
â”‚   â”‚   â”‚   â”œâ”€â”€ DivisionFilter.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ DistrictFilter.jsx
â”‚   â”‚   â”‚   â””â”€â”€ ISPFilter.jsx
â”‚   â”‚   â””â”€â”€ dashboard/
â”‚   â”‚       â”œâ”€â”€ ExecutiveDashboard.jsx
â”‚   â”‚       â””â”€â”€ RegulatoryDashboard.jsx
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useMetabaseData.js   â† Custom hook for data fetching
â”‚   â”‚   â””â”€â”€ useFilters.js        â† Filter state management
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ Executive.jsx
â”‚   â”‚   â”œâ”€â”€ Regulatory.jsx
â”‚   â”‚   â””â”€â”€ Login.jsx
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ chartConfig.js       â† ECharts default configs
â”‚   â”‚   â””â”€â”€ dataTransform.js     â† Transform Metabase data to ECharts format
â”‚   â”œâ”€â”€ App.jsx
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ package.json
â””â”€â”€ .env

================================================================================
8. ECHARTS INTEGRATION EXAMPLES
================================================================================

Example 1: Gauge Chart (E1.1 - National Avg Download Speed)
-----------------------------------------------------------

// 1. Fetch data from Metabase
const fetchDownloadSpeed = async () => {
  const response = await fetch('http://localhost:3000/api/card/64/query', {
    headers: {
      'X-Metabase-Session': sessionToken
    }
  });
  const data = await response.json();
  return data.data.rows[0][0]; // e.g., 52.5
};

// 2. Transform to ECharts format
const speed = await fetchDownloadSpeed(); // 52.5

const option = {
  series: [{
    type: 'gauge',
    startAngle: 180,
    endAngle: 0,
    min: 0,
    max: 100,
    center: ['50%', '75%'],
    radius: '90%',
    axisLine: {
      lineStyle: {
        width: 30,
        color: [[0.5, '#FF6E76'], [0.7, '#FDDD60'], [1, '#58D9F9']]
      }
    },
    pointer: {
      itemStyle: {
        color: 'auto'
      }
    },
    axisTick: { show: false },
    splitLine: { show: false },
    axisLabel: {
      color: '#464646',
      fontSize: 14
    },
    detail: {
      valueAnimation: true,
      formatter: '{value} Mbps',
      color: 'auto',
      fontSize: 30
    },
    data: [{
      value: speed,
      name: 'Download Speed'
    }]
  }]
};

// 3. Render
<ReactECharts option={option} style={{height: 300}} />

Example 2: Line Chart (E1.5 - Speed Trend)
------------------------------------------

// 1. Fetch data
const fetchSpeedTrend = async () => {
  const response = await fetch('http://localhost:3000/api/card/67/query', {
    headers: {'X-Metabase-Session': sessionToken}
  });
  const data = await response.json();

  // Data format: rows = [["2025-01", 50.2], ["2025-02", 52.5], ...]
  return {
    dates: data.data.rows.map(row => row[0]),
    values: data.data.rows.map(row => row[1])
  };
};

// 2. Transform
const {dates, values} = await fetchSpeedTrend();

const option = {
  title: {
    text: 'Speed Trend (12 Months)'
  },
  tooltip: {
    trigger: 'axis'
  },
  xAxis: {
    type: 'category',
    data: dates
  },
  yAxis: {
    type: 'value',
    name: 'Speed (Mbps)'
  },
  series: [{
    name: 'Download Speed',
    type: 'line',
    smooth: true,
    data: values,
    areaStyle: {
      color: 'rgba(88, 217, 249, 0.3)'
    }
  }]
};

// 3. Render
<ReactECharts option={option} style={{height: 400}} />

Example 3: Bar Chart (E1.6 - Division Performance)
--------------------------------------------------

// 1. Fetch data
const fetchDivisionPerf = async () => {
  const response = await fetch('http://localhost:3000/api/card/68/query', {
    headers: {'X-Metabase-Session': sessionToken}
  });
  const data = await response.json();

  // rows = [["Dhaka", 55.2], ["Chittagong", 52.1], ...]
  return {
    divisions: data.data.rows.map(row => row[0]),
    speeds: data.data.rows.map(row => row[1])
  };
};

// 2. ECharts config
const {divisions, speeds} = await fetchDivisionPerf();

const option = {
  title: {
    text: 'Division Performance Ranking'
  },
  tooltip: {},
  xAxis: {
    type: 'category',
    data: divisions
  },
  yAxis: {
    type: 'value',
    name: 'Avg Speed (Mbps)'
  },
  series: [{
    type: 'bar',
    data: speeds,
    itemStyle: {
      color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
        {offset: 0, color: '#58D9F9'},
        {offset: 1, color: '#0EA5E9'}
      ])
    }
  }]
};

Example 4: Table (R1.4 - Package Compliance)
--------------------------------------------

// Use Ant Design Table instead of ECharts

import { Table } from 'antd';

// 1. Fetch data
const fetchPackageCompliance = async () => {
  const response = await fetch('http://localhost:3000/api/card/97/query', {
    headers: {'X-Metabase-Session': sessionToken}
  });
  const data = await response.json();

  // Transform to Ant Design format
  return data.data.rows.map((row, idx) => ({
    key: idx,
    packageTier: row[0],
    targetDownload: row[1],
    actualDownload: row[2],
    achievement: row[3]
  }));
};

// 2. Define columns
const columns = [
  {title: 'Package Tier', dataIndex: 'packageTier'},
  {title: 'Target Download (Mbps)', dataIndex: 'targetDownload'},
  {title: 'Actual Download (Mbps)', dataIndex: 'actualDownload'},
  {title: 'Achievement %', dataIndex: 'achievement'}
];

// 3. Render
<Table columns={columns} dataSource={data} pagination={false} />

Example 5: Map (E2.1 - Division Map)
------------------------------------

// Use ECharts Map with GeoJSON

// 1. Load GeoJSON (you already have this)
const geoJson = await fetch('/geodata/bangladesh-divisions.geojson').then(r => r.json());
echarts.registerMap('BD', geoJson);

// 2. Fetch data
const fetchDivisionData = async () => {
  const response = await fetch('http://localhost:3000/api/card/94/query', {
    headers: {'X-Metabase-Session': sessionToken}
  });
  const data = await response.json();

  // rows = [["Dhaka", 55.2], ["Chittagong", 52.1], ...]
  return data.data.rows.map(row => ({
    name: row[0],
    value: row[1]
  }));
};

// 3. ECharts config
const mapData = await fetchDivisionData();

const option = {
  title: {
    text: 'Division Performance Map'
  },
  tooltip: {
    trigger: 'item',
    formatter: '{b}: {c} Mbps'
  },
  visualMap: {
    min: 0,
    max: 100,
    text: ['High', 'Low'],
    realtime: false,
    calculable: true,
    inRange: {
      color: ['#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695']
    }
  },
  series: [{
    name: 'Download Speed',
    type: 'map',
    map: 'BD',
    roam: true,
    emphasis: {
      label: { show: true }
    },
    data: mapData
  }]
};

================================================================================
9. PROS & CONS ANALYSIS
================================================================================

PROS of React + ECharts Approach:
----------------------------------
âœ… Full Design Control
   - Complete control over colors, fonts, layouts
   - Match any design system
   - Consistent branding

âœ… Better Performance
   - No iframe overhead
   - Faster initial load
   - Smoother interactions
   - Better mobile performance

âœ… Advanced Interactions
   - Custom click handlers
   - Drill-down without page reload
   - Real-time data updates
   - Custom tooltips and legends

âœ… Integration Freedom
   - Can integrate with other services
   - Add custom features easily
   - Mix different chart libraries
   - Use React ecosystem (state management, routing, etc.)

âœ… Modern User Experience
   - Single Page Application (SPA)
   - Smooth transitions
   - Progressive Web App (PWA) possible
   - Better accessibility

âœ… Separation of Concerns
   - Frontend team works on React
   - Data team works on Metabase queries
   - Clear API contract between them

âœ… Better Mobile Experience
   - Responsive design easier
   - Touch interactions
   - Native-like feel

âœ… Offline Capabilities
   - Can cache data
   - Service workers
   - Progressive enhancement

CONS of React + ECharts Approach:
---------------------------------
âŒ More Development Work
   - Need to build every chart
   - More code to maintain
   - Need React expertise

âŒ Duplicate Effort
   - Charts defined twice (Metabase + React)
   - Need to keep in sync
   - More testing needed

âŒ Maintenance Burden
   - Need to update React code when Metabase queries change
   - More moving parts
   - Potential for drift

âŒ Initial Investment
   - Learning curve
   - Setup time
   - More complex deployment

âŒ Lost Metabase Features
   - No built-in drill-through
   - No Metabase's auto-refresh
   - No Metabase's question builder UI (for non-technical users)

âŒ Security Considerations
   - Need to expose Metabase API
   - Handle authentication carefully
   - CORS configuration

WHEN TO USE WHICH APPROACH:
---------------------------

Use iframe embedding when:
â†’ Quick proof of concept needed
â†’ Limited development resources
â†’ Don't need custom branding
â†’ Metabase's UI is acceptable
â†’ Few users (< 50)

Use React + ECharts when:
â†’ Need full design control
â†’ Large user base (performance matters)
â†’ Want custom interactions
â†’ Have React developers
â†’ Long-term product
â†’ Need mobile-first design
â†’ Want to add custom features

HYBRID APPROACH (Best of both):
--------------------------------
Use React + ECharts for:
- Landing page
- Main dashboards
- Public-facing views
- Mobile app

Keep Metabase for:
- Admin/analyst tools
- Ad-hoc analysis
- Building new queries
- Internal reports

================================================================================
10. EFFORT ESTIMATION
================================================================================

PHASE 1: Setup & POC (1-2 weeks)
---------------------------------
- React project setup: 1 day
- Metabase API integration: 2 days
- Build 3 sample charts: 2 days
- Testing and validation: 2 days
Total: 7 days

PHASE 2: Core Implementation (3-4 weeks)
----------------------------------------
- Build all chart types (12 charts): 6 days
- Build all table types (6 tables): 3 days
- Filter system: 3 days
- Navigation and routing: 2 days
- Authentication: 2 days
- Responsive design: 3 days
- Testing: 3 days
Total: 22 days

PHASE 3: Polish & Deploy (1-2 weeks)
------------------------------------
- Performance optimization: 2 days
- Accessibility: 2 days
- Browser testing: 2 days
- Documentation: 1 day
- Deployment setup: 2 days
Total: 9 days

TOTAL EFFORT: 6-8 weeks (1.5-2 months)

Team Requirements:
- 1 React developer (full-time)
- 1 UI/UX designer (part-time)
- 1 DevOps engineer (part-time)

================================================================================
11. TECHNOLOGY STACK
================================================================================

FRONTEND:
---------
Core:
  âœ… React 18+ (UI framework)
  âœ… React Router (navigation)
  âœ… Axios (HTTP client)

Charts:
  Option A: ECharts (Recommended)
    - apache-echarts (5.4+)
    - echarts-for-react
    - Rich features, good docs
    - ~800kb bundle size

  Option B: Recharts
    - recharts (2.5+)
    - Pure React, easier
    - Smaller bundle (~400kb)
    - Fewer features

  Option C: Chart.js
    - chart.js + react-chartjs-2
    - Popular, simple
    - ~250kb bundle
    - Limited customization

UI Components:
  âœ… Ant Design (antd) - Tables, filters, layout
  âœ… Tailwind CSS - Styling
  âœ… Heroicons - Icons

State Management:
  âœ… React Context (simple state)
  OR
  âœ… Zustand (medium complexity)
  OR
  âœ… Redux Toolkit (complex apps)

Maps:
  Option A: ECharts Map
  Option B: Leaflet + React-Leaflet
  Option C: Mapbox GL JS

BACKEND:
--------
âœ… Metabase (existing, no changes)
âœ… TimescaleDB (existing, no changes)

API Layer (optional):
  If you want a proxy between React and Metabase:
  âœ… Node.js + Express
  âœ… Python + FastAPI
  âœ… Nginx reverse proxy

DEVELOPMENT TOOLS:
------------------
âœ… Create React App or Vite (project setup)
âœ… ESLint + Prettier (code quality)
âœ… Jest + React Testing Library (testing)
âœ… Storybook (component development)

DEPLOYMENT:
-----------
âœ… Docker (containerization)
âœ… Nginx (web server)
âœ… PM2 or systemd (process management)

Recommended Stack:
-----------------
Frontend: React 18 + ECharts + Ant Design + Tailwind
Charts: Apache ECharts (primary) + Ant Design Charts (tables)
Maps: ECharts Map with your existing GeoJSON
State: React Context (start simple)
HTTP: Axios
Routing: React Router v6
Testing: Jest + React Testing Library
Build: Vite (faster than CRA)
Deploy: Docker + Nginx

================================================================================
12. SECURITY CONSIDERATIONS
================================================================================

CONCERNS:
---------
1. Exposing Metabase API to frontend
   Risk: Direct API access from browser
   Solution: Add API proxy layer

2. Session token management
   Risk: Token exposed in browser
   Solution: HttpOnly cookies, short expiration

3. CORS issues
   Risk: Cross-origin requests blocked
   Solution: Configure Metabase CORS properly

4. Data leakage
   Risk: Users seeing unauthorized data
   Solution: Backend validation, not just frontend

RECOMMENDED SECURITY ARCHITECTURE:
----------------------------------

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Browser                                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ React App (Port 3001)                                        â”‚ â”‚
â”‚ â”‚ - NO direct Metabase access                                 â”‚ â”‚
â”‚ â”‚ - Calls backend API only                                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â†“ HTTP                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Backend API Proxy (Port 3002)                               â”‚ â”‚
â”‚ â”‚ Node.js/Python/Go                                           â”‚ â”‚
â”‚ â”‚ - Authenticates users                                       â”‚ â”‚
â”‚ â”‚ - Gets Metabase session                                     â”‚ â”‚
â”‚ â”‚ - Validates permissions                                     â”‚ â”‚
â”‚ â”‚ - Fetches data from Metabase                                â”‚ â”‚
â”‚ â”‚ - Returns sanitized data                                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â†“ Internal                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Metabase API (Port 3000)                                    â”‚ â”‚
â”‚ â”‚ - Not exposed to internet                                   â”‚ â”‚
â”‚ â”‚ - Only accessible from backend proxy                        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

For simple/internal use:
â†’ Direct Metabase API access is OK
â†’ Use HTTPS
â†’ Implement rate limiting

For production/external users:
â†’ MUST use API proxy
â†’ Implement proper authentication
â†’ Row-level security

================================================================================
13. PERFORMANCE COMPARISON
================================================================================

MEASURED PERFORMANCE (estimated):
---------------------------------

Metric                    | iframe Approach | React + ECharts
--------------------------|-----------------|------------------
Initial Load Time         | 3-5 seconds     | 1-2 seconds
Dashboard Switch          | 2-3 seconds     | < 0.5 seconds
Filter Application        | 1-2 seconds     | < 0.5 seconds
Memory Usage              | High (iframe)   | Lower (native)
Mobile Performance        | Poor            | Good
Bundle Size               | N/A             | ~1-2 MB
Time to Interactive       | 5-7 seconds     | 2-3 seconds

WHY REACT + ECHARTS IS FASTER:
------------------------------
1. No iframe overhead
2. Code splitting (load charts on demand)
3. Data caching possible
4. Optimized rendering
5. Single page application (no full reloads)

OPTIMIZATION TECHNIQUES:
-----------------------
- Lazy load components
- Virtualize long tables
- Debounce filter changes
- Cache API responses
- Use React.memo for expensive components
- Service worker for offline

================================================================================
14. TESTING STRATEGY
================================================================================

UNIT TESTS (Jest + React Testing Library):
------------------------------------------
- Test individual chart components
- Test data transformation functions
- Test API client
- Test hooks

Example:
```javascript
test('GaugeChart renders with data', () => {
  render(<GaugeChart value={52.5} />);
  expect(screen.getByText(/52.5/)).toBeInTheDocument();
});
```

INTEGRATION TESTS:
-----------------
- Test filter â†’ chart updates
- Test navigation
- Test authentication flow

E2E TESTS (Cypress or Playwright):
----------------------------------
- Test complete user flows
- Test all dashboards load
- Test filter combinations
- Test mobile views

VISUAL REGRESSION TESTS:
------------------------
- Percy or Chromatic
- Catch unintended UI changes

================================================================================
15. DEPLOYMENT OPTIONS
================================================================================

OPTION 1: Docker (Recommended)
------------------------------
Add React app to docker-compose.yml:

services:
  react-dashboard:
    build: ./react-app
    ports:
      - "3001:80"
    environment:
      - REACT_APP_METABASE_URL=http://metabase:3000
    depends_on:
      - metabase

OPTION 2: Static Build + Nginx
------------------------------
Build React app and serve with existing nginx:

npm run build
# Copy build/ to nginx html folder

OPTION 3: Separate Server
-------------------------
Deploy React app on separate server
Point to Metabase API via proxy

OPTION 4: CDN
-------------
Build and deploy to Vercel/Netlify
Use API proxy for Metabase

================================================================================
16. NEXT STEPS & DECISION POINTS
================================================================================

DECISION FRAMEWORK:
-------------------

Question 1: Do you need custom branding/design?
  YES â†’ Consider React approach
  NO â†’ iframe might be sufficient

Question 2: Do you have React developers?
  YES â†’ React approach is feasible
  NO â†’ Consider hiring or training, or stick with iframe

Question 3: Is this a long-term product?
  YES â†’ Invest in React approach
  NO â†’ iframe for quick delivery

Question 4: Do you need mobile-first design?
  YES â†’ React approach strongly recommended
  NO â†’ iframe can work

Question 5: Budget for 2 months development?
  YES â†’ React approach is viable
  NO â†’ Start with iframe, migrate later

RECOMMENDED PATH:
-----------------

FOR BTRC PROJECT, I RECOMMEND:

PHASE 1: Proof of Concept (1 week)
  1. Create minimal React app
  2. Connect to Metabase API
  3. Build 2-3 sample charts
  4. Compare with iframe version
  5. Demo to stakeholders
  6. DECIDE: Continue or stick with iframe

PHASE 2: If POC approved (4 weeks)
  1. Build Executive Dashboard in React
  2. Keep Regulatory Dashboard in iframe
  3. Compare user feedback
  4. DECIDE: Migrate Regulatory or keep hybrid

PHASE 3: Full implementation (4 weeks)
  1. Complete all dashboards
  2. Polish and optimize
  3. Deploy to production

IMMEDIATE NEXT STEPS:
---------------------

Step 1: CREATE POC BRANCH
  git checkout -b react-echarts-poc

Step 2: MANUAL API TEST
  - Test Metabase APIs (see section 6)
  - Verify data format
  - Test with filters

Step 3: SETUP REACT PROJECT
  npx create-react-app btrc-dashboard-react
  cd btrc-dashboard-react
  npm install axios echarts echarts-for-react antd

Step 4: BUILD ONE CHART
  - Pick simplest chart (E1.1 - Gauge)
  - Fetch data from Metabase
  - Render with ECharts
  - Compare with iframe

Step 5: DEMO & DECIDE
  - Show to team
  - Get feedback
  - Estimate full effort
  - DECIDE: Proceed or not

================================================================================
QUICK START COMMANDS (FOR POC)
================================================================================

# 1. Test Metabase API manually
curl -X POST http://localhost:3000/api/session \
  -H "Content-Type: application/json" \
  -d '{"username":"alamin.technometrics22@gmail.com","password":"Test@123"}'

# Copy the token

curl http://localhost:3000/api/card/64/query \
  -H "X-Metabase-Session: YOUR_TOKEN"

# 2. Create React POC
cd "/home/alamin/Desktop/Python Projects"
npx create-react-app btrc-dashboard-react-poc
cd btrc-dashboard-react-poc

# 3. Install dependencies
npm install axios echarts echarts-for-react antd

# 4. Start development
npm start
# Opens http://localhost:3001

# 5. Build one simple chart component
# Edit src/App.js with the examples from section 8

================================================================================
CONCLUSION
================================================================================

âœ… YES, IT IS FULLY POSSIBLE to use React + ECharts with Metabase as backend

BENEFITS:
- Full design control
- Better performance
- Modern user experience
- Mobile-first design
- Custom interactions

COSTS:
- 6-8 weeks development
- Need React expertise
- More code to maintain

RECOMMENDATION FOR BTRC:
- Start with POC (1 week)
- Build 2-3 sample charts
- Compare with iframe
- Get stakeholder feedback
- Then decide: full implementation or hybrid approach

HYBRID APPROACH (Best of both worlds):
- Use React + ECharts for public-facing dashboards
- Keep Metabase for internal analyst tools
- Metabase becomes your "BI backend"
- React becomes your "BI frontend"

This gives you flexibility and doesn't force you to choose one or the other!

================================================================================
END OF EXPLORATION GUIDE
================================================================================

Save this file for future reference when making the decision.

For questions or to proceed with POC, refer to:
- Section 16: Next Steps
- Section 6: API Testing
- Section 8: Code Examples

Good luck with your decision!
